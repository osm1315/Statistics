# 통계학 6주차 정규과제

## Statistics_6th_TIL

### 3부. 데이터 분석하기
### 12.통계 기반 분석 방법론



## Study Schedule

|주차 | 공부 범위     | 완료 여부 |
|----|----------------|----------|
|1주차| 1부 p.2~56     | ✅      |
|2주차| 1부 p.57~79    | ✅      | 
|3주차| 2부 p.82~120   | ✅      | 
|4주차| 2부 p.121~202  | ✅      | 
|5주차| 2부 p.203~254  | ✅      | 
|6주차| 3부 p.300~356  | ✅      | 
|7주차| 3부 p.357~615  | 🍽️      |

<!-- 여기까진 그대로 둬 주세요-->

# 12.통계 기반 분석 방법론

## 12.1. 분석 모델 개요
- 통계모델: 모형과 해석을 중요하게 생각
- 기계학습: 대용량데이터를 활용해 예측의 정확도를 높이는 것을 중요하게 생각

![분석방법개요](./images/study6/스크린샷%202025-05-16%20오후%207.31.22.png)
![분석방법개요2](./images/study6/스크린샷%202025-05-16%20오후%207.31.34.png)
![기계학습방법개요](./images/study6/스크린샷%202025-05-16%20오후%207.32.33.png)


## 12.2. 주성분 분석(PCA)

여러개의 독립변수들을 잘 설명해줄수있는 주된 성분을 추출하는 기법

-> 전체 변수들의 핵심특성만 선별 -> 독립변수의 수(차원)을 줄일수있음

-> 차원의 저주 방지 가능

1. 변수 선택을 통해 비교적 불필요하거나 유의성이 낮은 변수를 제거하는 방법
2. 변수들의 잠재적인 성분을 추출해 차원을 줄이는 방법: 주성분분석, 공통요인분석

주성분분석: 변수의 수를 축약하면서 정보의 손실을 최소화하고자 할때
- 일반적으로 제1주성분, 제2주성분만으로 대부분의 설명력이 포함됨
- 주성분: 해당 차원의 가장 많은 분산을 담아내는 축
1. 데이터 표준화
2. 데이터의 분산을 가장 잘 찾아내는 축 찾기: 각 포인트들의 직각지점까지의 거리의 합이 가장 큰 축이 주성분 -> 피타고라스의 정리에 의해 자연히 각 포인트와 주성분 축과의 거리 합은 최소가 됨
- 변수의 개수만큼 새로운 성분 나올수있음
- 설명력: 전체 분산 중에서 해당 주성분이 갖고 있는 분산

공통요인분석: 변수들 사이에 존재하는 차원을 규명함으로써 변수들 간의 구조를 파악할때 


## 12.4. 다중공선성 해결과 섀플리 밸류 분석
다중공선성: 독립변수들 간의 상관관계가 높은 현상 -> 두개이상의 독립변수가 서로 선형적인 관계를 나타낼때

다중공선성이 있을 경우 독립변수들간에는 서로 독립이라는 회귀분석의 전제 가정을 위반 -> 추정치의 통계적 유의성이 낮아져 모델의 정합성이 맞지 않게 됨
- 상관분석을 통해 독립변수간의 상관성 확인
- VIF(분산팽창계수) 확인: 모델에 사용된 다른 독립변수들에 의해 설명될수있는 정도 -> VIF값이 높은 변수들중 종속변수와 상관성이 가장 낮은 변수를 제거하고 다시 확인


## 12.6. Z-test와 T-test
집단내 혹은 집단간의 평균값 차이가 통계적으로 유의미한것인지 알아내는 방법

Z-test와 T-test: 두 집단의 평균값 혹은 비율 차이 분석
- 양적변수
- 정규분포
- 등분산 조건 충족해야함
    - 등분산 만족하면: equal variance t-test
    - 만족하지 않으면: welch's t-test

![비교](./images/study6/스크린샷%202025-05-16%20오후%208.09.52.png)


## 12.7. ANOVA
세집단 이상의 평균 차이를 검정
- F분포


## 12.8. 카이제곱 검정(교차분석)
명목 혹은 서열척도와 같은 범주형 변수들간의 연관성을 분석하기 위해 결합분포를 활용하는 방법


<br>
<br>

# 확인 문제

### **문제 1.**
> **🧚 경희는 다트비 교육 연구소의 연구원이다. 경희는 이번에 새롭게 개발한 교육 프로그램이 기존 프로그램보다 학습 성취도 향상에 효과적인지 검증하고자 100명의 학생을 무작위로 두 그룹으로 나누어 한 그룹(A)은 새로운 교육 프로그램을, 다른 그룹(B)은 기존 교육 프로그램을 수강하도록 하였다. 실험을 시작하기 전, 두 그룹(A, B)의 초기 시험 점수 평균을 비교한 결과, 유의미한 차이가 없었다. 8주 후, 학생들의 최종 시험 점수를 수집하여 두 그룹 간 평균 점수를 비교하려고 한다.**   

> **🔍 Q1. 이 실험에서 사용할 적절한 검정 방법은 무엇인가요?**

```
독립표본 t-test
```

> **🔍 Q2. 이 실험에서 설정해야 할 귀무가설과 대립가설을 각각 작성하세요.**

```
귀무가설: 두 그룹간 평균 점수에 차이가 없다
대립가설: 두 그룹간 평균 점수에 차이가 있다
```

> **🔍 Q3. 검정을 수행하기 위한 절차를 순서대로 서술하세요.**

<!--P.337의 실습 코드 흐름을 확인하여 데이터를 불러온 후부터 어떤 절차로 검정을 수행해야 하는지 고민해보세요.-->

```

# 필요한 패키지 설치
from scipy.stats import shapiro
import scipy.stats
from scipy import stats
from scipy.stats import ttest_ind
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

# 데이터 정규성 검정
print(shapiro(df['TypeA_before']))
print(shapiro(df['TypeA_after']))
print(shapiro(df['TypeB_before']))
print(shapiro(df['TypeB_after']))

# 데이터 등분산성 검정
stats.bartlett(df['TypeA_before'],df['TypeA_after'], df['TypeB_before'],df['TypeB_after'])

# 독립표본 t검정 수행
ttest_ind(df['TypeA_after'],df['TypeB_after'], equal_var=False)

```

> **🔍 Q4. 이 검정을 수행할 때 가정해야 하는 통계적 조건을 설명하세요.**

```
정규분포, 등분산 조건 
```

> **🔍 Q5. 추가적으로 최신 AI 기반 교육 프로그램(C)도 도입하여 기존 프로그램(B) 및 새로운 프로그램(A)과 비교하여 성취도 차이가 있는지 평가하고자 한다면 어떤 검정 방법을 사용해야 하나요? 단, 실험을 시작하기 전, C 그룹의 초기 점수 평균도 A, B 그룹과 유의미한 차이가 없었다고 가정한다.**

```
아노바 분석
```

> **🔍 Q6. 5번에서 답한 검정을 수행한 결과, 유의미한 차이가 나타났다면 추가적으로 어떤 검정을 수행해 볼 수 있을까요?**

```
사후 검정
```

---

### **문제 2. 카이제곱 검정**  
> **🧚 다음 중 어떠한 경우에 카이제곱 검정을 사용해야 하나요?   
1️⃣ 제품 A, B, C의 평균 매출 차이를 비교하고자 한다.  
2️⃣ 남성과 여성의 신체 건강 점수 평균 차이를 분석한다.  
3️⃣ 제품 구매 여부(구매/미구매)와 고객의 연령대(10대, 20대, 30대…) 간의 연관성을 분석한다.  
4️⃣ 특정 치료법이 환자의 혈압을 감소시키는 효과가 있는지 확인한다.**  

```
3번
```

